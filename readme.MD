
## æ³¨æ„ï¼š

1. è¦enable skypilot[gcp]:

pip install skypilot[gcp]

2. è¦æˆæƒç»™æœ¬æœº(gcpçš„vm instance)

gcloud auth application-default login


### ä½¿ç”¨è¿‡ç¨‹
1. sky launch setup.yaml

å¯èƒ½çš„å“åº”ä¸º
YAML to run: setup.yaml
Considered resources (3 nodes):

| CLOUD   | INSTANCE               | vCPUs     | Mem(GB)     | ACCELERATORS     | REGION/ZONE      | COST ($)     | CHOSEN
| ------- | ---------------------- | --------- | ----------- | ---------------- | ---------------- | ------------ | -------
| GCP     | e2-highmem-2[Spot]     | 2         | 16          | -                | asia-east2-a     | 0.07         |   âœ”

Launching a new cluster 'sky-758d-laurence'. Proceed? [Y/n]:

åœ¨è¾“å…¥yä»¥åï¼Œå¯èƒ½å¾—åˆ°çš„å“åº”ï¼š

(worker2, rank=2, pid=4071, ip=10.170.0.12) setup done with node: 1

(worker1, rank=1, pid=4056, ip=10.170.0.10) setup done with node: 2

Job ID: 1

ğŸ“‹ Useful Commands

â”œâ”€â”€ To cancel the job:          sky cancel sky-758d-laurence 1

â”œâ”€â”€ To stream job logs:         sky logs sky-758d-laurence 1

â””â”€â”€ To view job queue:          sky queue sky-758d-laurence

Cluster name: sky-758d-laurence

â”œâ”€â”€ To log into the head VM:    ssh sky-758d-laurence

â”œâ”€â”€ To submit a job:            sky exec sky-758d-laurence yaml_file

â”œâ”€â”€ To stop the cluster:        sky stop sky-758d-laurence

â””â”€â”€ To teardown the cluster:    sky down sky-758d-laurence

2. sky exec sky-758d-laurence demo.yaml --env PARTITION="foobar2005"

å…¶ä¸­çš„sky-758d-laurenceå°±æ˜¯åˆšæ‰æ–°å»ºçš„cluster name

è¿˜å¯ä»¥ç”¨sky statusæŸ¥çœ‹æ‰€æœ‰çš„cluster names

æ³¨æ„ï¼š

PARTITION="foobar2005"å°†ä½œä¸ºç¯å¢ƒå˜é‡ï¼Œåœ¨demo.yamlçš„runåŒºåŸŸçš„bash simple_jobs/run.shä¸­ç”Ÿæ•ˆï¼›æœ€ç»ˆå¯ä»¥åœ¨ç»“ç‚¹ä¸Šçš„output.txtä¸­çœ‹åˆ°

cat output.txt 

hello, world! from job 1

partition id: foobar2005